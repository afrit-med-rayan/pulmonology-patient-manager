<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Système de Gestion des Patients pour Dr. S. Sahboub - Cabinet de Pneumologie"
    />
    <meta name="author" content="Dr. S. Sahboub" />
    <title>Système de Gestion des Patients - Dr. S. Sahboub</title>
    <script>
      // Check if user has a valid session
      function checkSessionAndRedirect() {
        const session = localStorage.getItem("userSession");
        if (session) {
          try {
            const sessionData = JSON.parse(session);
            const now = new Date().getTime();

            if (now < sessionData.expiresAt) {
              // Valid session, go to main app
              window.location.href = "complete-patient-system.html";
              return;
            } else {
              // Session expired, clear it
              localStorage.removeItem("userSession");
            }
          } catch (e) {
            // Invalid session data, clear it
            localStorage.removeItem("userSession");
          }
        }

        // No valid session, go to login
        window.location.href = "login.html";
      }

      // Auto-redirect based on session status
      checkSessionAndRedirect();
    </script>
  </head>
  <body></body>
</html>
