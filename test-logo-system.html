<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Logo System Test - Dr. S. Sahboub</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/layout.css" />

    <style>
      .test-section {
        margin: 20px 0;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: #f9f9f9;
      }
      .test-section h3 {
        margin-top: 0;
        color: var(--primary-color);
      }
      .logo-demo {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        align-items: center;
        margin: 15px 0;
        padding: 15px;
        background: white;
        border-radius: 4px;
      }
      .logo-demo-dark {
        background: #2c5aa0;
        color: white;
      }
      .controls {
        margin: 20px 0;
      }
      .controls button {
        margin: 5px;
        padding: 8px 16px;
      }
      .status-info {
        background: #e3f2fd;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
        font-family: monospace;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <header class="header">
        <div class="header-container">
          <div id="header-logo-test">
            <!-- Header logo will be inserted here -->
          </div>
          <div class="header-actions">
            <span class="user-info">Logo System Test</span>
          </div>
        </div>
      </header>

      <div class="main-container">
        <div class="content-header">
          <h1 class="content-title">Logo and Branding System Test</h1>
          <p class="content-subtitle">
            Testing logo display, fallback, and responsive behavior
          </p>
        </div>

        <!-- Logo Size Variants Test -->
        <div class="test-section">
          <h3>Logo Size Variants</h3>
          <div class="logo-demo">
            <div>
              <h4>Small Logo:</h4>
              <div id="small-logo-test"></div>
            </div>
            <div>
              <h4>Medium Logo:</h4>
              <div id="medium-logo-test"></div>
            </div>
            <div>
              <h4>Large Logo:</h4>
              <div id="large-logo-test"></div>
            </div>
            <div>
              <h4>XLarge Logo:</h4>
              <div id="xlarge-logo-test"></div>
            </div>
          </div>
        </div>

        <!-- Login Logo Test -->
        <div class="test-section">
          <h3>Login Logo (with subtext)</h3>
          <div class="logo-demo logo-demo-dark">
            <div id="login-logo-test"></div>
          </div>
        </div>

        <!-- Fallback Test -->
        <div class="test-section">
          <h3>Fallback Text Test</h3>
          <div class="logo-demo">
            <div id="fallback-logo-test"></div>
          </div>
          <p>
            <em
              >This logo is configured to use a non-existent file to test
              fallback behavior.</em
            >
          </p>
        </div>

        <!-- Interactive Tests -->
        <div class="test-section">
          <h3>Interactive Tests</h3>
          <div class="controls">
            <button onclick="testLogoStatus()">Get Logo Status</button>
            <button onclick="testPreloadLogos()">Preload Logos</button>
            <button onclick="testClearCache()">Clear Cache</button>
            <button onclick="testUpdateLogos()">Update All Logos</button>
            <button onclick="testCustomFallback()">Set Custom Fallback</button>
          </div>
          <div id="status-display" class="status-info">
            Click buttons above to test logo system functionality
          </div>
        </div>

        <!-- Responsive Test -->
        <div class="test-section">
          <h3>Responsive Test</h3>
          <p>
            Resize your browser window to see how logos adapt to different
            screen sizes.
          </p>
          <div class="logo-demo">
            <div id="responsive-logo-test"></div>
          </div>
        </div>

        <!-- Accessibility Test -->
        <div class="test-section">
          <h3>Accessibility Test</h3>
          <p>Test keyboard navigation and screen reader compatibility:</p>
          <div class="logo-demo">
            <div id="accessible-logo-test"></div>
          </div>
          <p><em>Try tabbing to the logo and pressing Enter or Space.</em></p>
        </div>
      </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/utils/constants.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/components/LogoManager.js"></script>

    <script>
      let logoManager;

      // Initialize logo system test
      async function initializeLogoTest() {
        try {
          console.log("Initializing Logo System Test...");

          // Create LogoManager instance
          logoManager = new LogoManager();

          // Preload logos (SVG available, PNG will be handled gracefully if missing)
          await logoManager.preloadLogos(["svg", "png"]);

          // Create header logo
          const headerLogo = logoManager.createHeaderLogo({
            onClick: () => alert("Header logo clicked!"),
          });
          document.getElementById("header-logo-test").appendChild(headerLogo);

          // Create size variant logos
          const smallLogo = logoManager.createSmallLogo();
          document.getElementById("small-logo-test").appendChild(smallLogo);

          const mediumLogo = logoManager.createLogo({ size: "medium" });
          document.getElementById("medium-logo-test").appendChild(mediumLogo);

          const largeLogo = logoManager.createLogo({ size: "large" });
          document.getElementById("large-logo-test").appendChild(largeLogo);

          const xlargeLogo = logoManager.createLogo({ size: "xlarge" });
          document.getElementById("xlarge-logo-test").appendChild(xlargeLogo);

          // Create login logo
          const loginLogo = logoManager.createLoginLogo();
          document.getElementById("login-logo-test").appendChild(loginLogo);

          // Create fallback test logo (with non-existent file)
          const fallbackLogo = logoManager.createLogo({
            size: "medium",
            showSubtext: true,
            priority: ["nonexistent.svg", "nonexistent.png"],
          });
          document
            .getElementById("fallback-logo-test")
            .appendChild(fallbackLogo);

          // Create responsive test logo
          const responsiveLogo = logoManager.createLogo({
            size: "large",
            showSubtext: true,
          });
          document
            .getElementById("responsive-logo-test")
            .appendChild(responsiveLogo);

          // Create accessible logo
          const accessibleLogo = logoManager.createLogo({
            size: "medium",
            onClick: () => alert("Accessible logo activated!"),
            ariaLabel:
              "Dr. S. Sahboub Pulmonology Practice - Click to test accessibility",
          });
          document
            .getElementById("accessible-logo-test")
            .appendChild(accessibleLogo);

          console.log("Logo System Test initialized successfully");
          updateStatus("Logo system initialized successfully");
        } catch (error) {
          console.error("Error initializing logo test:", error);
          updateStatus("Error: " + error.message);
        }
      }

      // Test functions
      function testLogoStatus() {
        if (!logoManager) {
          updateStatus("LogoManager not initialized");
          return;
        }

        const status = logoManager.getLogoStatus();
        updateStatus("Logo Status:\n" + JSON.stringify(status, null, 2));
      }

      async function testPreloadLogos() {
        if (!logoManager) {
          updateStatus("LogoManager not initialized");
          return;
        }

        try {
          const results = await logoManager.preloadLogos(["svg", "png", "jpg"]);
          updateStatus("Preload Results:\n" + JSON.stringify(results, null, 2));
        } catch (error) {
          updateStatus("Preload Error: " + error.message);
        }
      }

      function testClearCache() {
        if (!logoManager) {
          updateStatus("LogoManager not initialized");
          return;
        }

        logoManager.clearCache();
        updateStatus("Logo cache cleared");
      }

      function testUpdateLogos() {
        if (!logoManager) {
          updateStatus("LogoManager not initialized");
          return;
        }

        logoManager.updateAllLogos("assets/logo-fallback.svg");
        updateStatus("All logos updated to use fallback logo");
      }

      function testCustomFallback() {
        if (!logoManager) {
          updateStatus("LogoManager not initialized");
          return;
        }

        logoManager.setFallbackText(
          "Custom Medical Practice",
          "Specialized Healthcare"
        );
        updateStatus(
          "Custom fallback text set. Trigger a logo error to see the change."
        );
      }

      function updateStatus(message) {
        const statusDisplay = document.getElementById("status-display");
        if (statusDisplay) {
          statusDisplay.textContent = message;
        }
      }

      // Initialize when page loads
      document.addEventListener("DOMContentLoaded", initializeLogoTest);
    </script>
  </body>
</html>
